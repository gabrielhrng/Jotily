{"mappings":"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","sources":["public/src/pomodoro.js"],"sourcesContent":["const timer = {\n    pomodoro: 25,\n    shortBreak: 5,\n    longBreak: 10,\n    longBreakInterval: 4,\n    sessions: 0,\n  };\n  \n  let interval;\n  \n  const buttonSound = new Audio('button-sound.mp3');\n  const mainButton = document.getElementById('js-btn');\n  mainButton.addEventListener('click', () => {\n    buttonSound.play();\n    const { action } = mainButton.dataset;\n    if (action === 'start') {\n      startTimer();\n    } else {\n      stopTimer();\n    }\n  });\n  \n  const modeButtons = document.querySelector('#js-mode-buttons');\n  modeButtons.addEventListener('click', handleMode);\n  \n  function getRemainingTime(endTime) {\n    const currentTime = Date.parse(new Date());\n    const difference = endTime - currentTime;\n  \n    const total = Number.parseInt(difference / 1000, 10);\n    const minutes = Number.parseInt((total / 60) % 60, 10);\n    const seconds = Number.parseInt(total % 60, 10);\n  \n    return {\n      total,\n      minutes,\n      seconds,\n    };\n  }\n  \n  function startTimer() {\n    let { total } = timer.remainingTime;\n    const endTime = Date.parse(new Date()) + total * 1000;\n  \n    if (timer.mode === 'pomodoro') timer.sessions++;\n  \n    mainButton.dataset.action = 'stop';\n    mainButton.textContent = 'stop';\n    mainButton.classList.add('active');\n  \n    interval = setInterval(function() {\n      timer.remainingTime = getRemainingTime(endTime);\n      updateClock();\n  \n      total = timer.remainingTime.total;\n      if (total <= 0) {\n        clearInterval(interval);\n  \n        switch (timer.mode) {\n          case 'pomodoro':\n            if (timer.sessions % timer.longBreakInterval === 0) {\n              switchMode('longBreak');\n            } else {\n              switchMode('shortBreak');\n            }\n            break;\n          default:\n            switchMode('pomodoro');\n        }\n  \n        if (Notification.permission === 'granted') {\n          const text =\n            timer.mode === 'pomodoro' ? 'Get back to work!' : 'Take a break!';\n          new Notification(text);\n        }\n  \n        document.querySelector(`[data-sound=\"${timer.mode}\"]`).play();\n  \n        startTimer();\n      }\n    }, 1000);\n  }\n  \n  function stopTimer() {\n    clearInterval(interval);\n  \n    mainButton.dataset.action = 'start';\n    mainButton.textContent = 'start';\n    mainButton.classList.remove('active');\n  }\n  \n  function updateClock() {\n    const { remainingTime } = timer;\n    const minutes = `${remainingTime.minutes}`.padStart(2, '0');\n    const seconds = `${remainingTime.seconds}`.padStart(2, '0');\n  \n    const min = document.getElementById('js-minutes');\n    const sec = document.getElementById('js-seconds');\n    min.textContent = minutes;\n    sec.textContent = seconds;\n  \n    const progress = document.getElementById('js-progress');\n    progress.value = timer[timer.mode] * 60 - timer.remainingTime.total;\n  }\n  \n  function switchMode(mode) {\n    timer.mode = mode;\n    timer.remainingTime = {\n      total: timer[mode] * 60,\n      minutes: timer[mode],\n      seconds: 0,\n    };\n  \n    document\n      .querySelectorAll('button[data-mode]')\n      .forEach(e => e.classList.remove('active'));\n    document.querySelector(`[data-mode=\"${mode}\"]`).classList.add('active');\n    document.body.style.backgroundColor = `var(--${mode})`;\n    document\n      .getElementById('js-progress')\n      .setAttribute('max', timer.remainingTime.total);\n  \n    updateClock();\n  }\n  \n  function handleMode(event) {\n    const { mode } = event.target.dataset;\n  \n    if (!mode) return;\n  \n    switchMode(mode);\n    stopTimer();\n  }\n  \n  document.addEventListener('DOMContentLoaded', () => {\n    if ('Notification' in window) {\n      if (\n        Notification.permission !== 'granted' &&\n        Notification.permission !== 'denied'\n      ) {\n        Notification.requestPermission().then(function(permission) {\n          if (permission === 'granted') {\n            new Notification(\n              'Awesome! You will be notified at the start of each session'\n            );\n          }\n        });\n      }\n    }\n  \n    switchMode('pomodoro');\n  });"],"names":[],"version":3,"file":"index.706fca08.js.map","sourceRoot":"/__parcel_source_root/"}